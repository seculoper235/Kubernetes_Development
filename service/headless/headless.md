## Headless가 필요한 이유?
우선 로드밸런싱이 무엇인지에 대해 다시 살펴보자
로드밸런싱이란 서버에 가해지는 부하 적절히 분산시키는 기술을 말하는데, 쿠버네티스의 경우 네트워크 트래픽을 여러 서버에 적절히 분산시켜 전달하는 기능을 말한다
즉 내가 보낸 요청이 동일한 3대의 파드 중 하나에 전달된다는 것이다

그러나 때론 로드밸런싱이 필요하지 않을 때도 있다
예시야 여러가지 이겠지만, 예를 들어 서비스가 관리하는 파드 집합 중, 특정 파드에게만 요청을 보내고 싶다면?
서비스 내의 파드 A가 파드 B에게 요청을 보내고 싶다면?

Headless란 머리, 즉 방향이 없는 서비스를 말한다. 즉 Cluster IP가 부여되지 않은 서비스라는 뜻이다
그럼 IP가 부여되지 않은 서비스는 과연 어떻게 동작하게 될까? 이를 한번 살펴보자

---
## 가상 IP가 부여되지 않았다면?
우선 노드 내에는 DNS 시스템과 프록시가 존재한다
DNS 시스템은 도메인 네임을 질의 시에 그에 맞는 IP 주소를 반환하는 역할을, 프록시는 내부로 요청을 전달하거나 외부로 요청을 보내는 역할을 한다

### 서비스 검색!
서비스를 활용하기 위해선 당연히 어디있는지 찾아야 한다. 앞서 살펴본 바로는 서비스 검색은 환경변수와 도메인 네임 검색이 있다고 했다
이 중에서 환경변수에 의한 검색은 불가능하다. 서비스 자체의 IP가 존재하지 않기 때문이다
그럼 남은 것은 DNS를 통한 검색이다

DNS를 통해 
Service 오브젝트의 로드밸런싱을 통해 불특정 임의의 파드와 통신하려는 것이 아니라,
내가 원하는 특정 파드와 직접 접근이 필요할 때 사용한다
로드밸런싱을 사용하면 내가 원하는 특정 파드들에 접근하기 어렵다. 랜덤하게 하나의 파드만 연결되기 때문이다
(같은 서비스 내의 파드 A가 파드 B와 통신하고 싶을 때 서비스를 이용하나? 아니다. 파드의 도메인 네임을 통해 통신한다)
이처럼 도메인 네임만 참조하여 특정 파들드에 접근하고 싶을 때 사용하는 방식이다!!

Q1) 서비스 없이 그냥 파드에 접근하는 건 안되나?
A1) 서비스가 없으므로 파드의 IP 주소로 접근할 수 밖에 없는데, 이는 변경이 너무 자주 일어나므로 접근이 어렵다

Q2) 근데 그냥 서비스를 생성해도 DNS 기능은 존재할텐데?
A2) 물론 기본만으로도 DNS를 사용할 수 있긴하다
    하지만 도메인으로 통신하고 싶은 것이지 IP로 통신하려는게 아니기 때문에 불필요한 통신 방식(IP 통신)이 생긴다

Q3) 왜 IP 통신이 아니라 DNS 시스템만 사용해?
A3) 이는 당연한 결과이다. IP 주소는 가독성이 낮고 쿠버네티스 시스템에선 언제 바뀔지 모르는 변화무쌍한 값이다
    예를 들어 네임스페이스 B에서 네임스페이스 A의 서비스로 요청을 보낸다고 했을때, IP 주소로는 분간이 어려우나 DNS 시스템은 이름 자체로 의미를 띄기에 명확히 분간이 된다
    다만 IP가 존재하게 되면

그럴 필요없이 그냥 ClusterIP를 None으로 설정하면, 서비스는 기존과 동일하게 도메인 네임을 가지게되고
도메인 이름 명명 규칙에 따라 만들어진 파드의 도메인 이름을 가지고 파드의 IP 주소를 얻어내어 접근할 수 있다
즉 IP 주소를 통한 로드밸런싱 등의 기능을 제외하고, 오로지 DNS 시스템만 이용해서 파드에게 접근할 수 있다는 것이다!!

Selector 존재
서비스의 도메인 네임으로 엔드포인트 슬라이스가 관리하는 파드들에 접근할 수 있다

Selector 없음
ExternalName 서비스의 경우 해당 외부 서비스로 바로 연결된다
그 외의 타입은 도메인 네임으로 별도로 작성한 엔드포인트가 관리하는 파드들에 접근할 수 있다